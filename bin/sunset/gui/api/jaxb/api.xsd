<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
	targetNamespace="ffapl/api" xmlns:ff="ffapl/api" elementFormDefault="qualified">

	<!-- API Spezifikation -->
	<xs:element name="apiSpecification">
		<xs:complexType>
			<xs:sequence minOccurs="0" maxOccurs="1">
				<xs:element name="typeList" type="ff:typeList" minOccurs="0" maxOccurs="1"/>
				<xs:element name="procedureList" type="ff:procedureList" minOccurs="0" maxOccurs="1"/>
				<xs:element name="functionList" type="ff:functionList" minOccurs="0" maxOccurs="1"/>
			</xs:sequence>
		</xs:complexType>
	</xs:element>

	<!-- Beispiele -->
	<xs:element name="sampleCode">
		<xs:complexType>
			<xs:sequence minOccurs="0" maxOccurs="1">
				<xs:element name="functionList" type="ff:functionList" minOccurs="0" maxOccurs="1"/>
				<xs:element name="procedureList" type="ff:procedureList" minOccurs="0" maxOccurs="1"/>
			</xs:sequence>
		</xs:complexType>
	</xs:element>
	
	<!-- Snippet-Code -->
	<xs:element name="snippetCode">
		<xs:complexType>
			<xs:sequence minOccurs="0" maxOccurs="1">
				<xs:element name="snippetList" type="ff:snippetList" minOccurs="0" maxOccurs="1"/>
			</xs:sequence>
		</xs:complexType>
	</xs:element>

	<!-- Prozedurliste -->
	<xs:complexType name="procedureList">
		<xs:sequence maxOccurs="unbounded">
			<xs:element name="procedure" type="ff:procedure"/>
		</xs:sequence>
	</xs:complexType>

	<!-- Prozedur -->
	<xs:complexType name="procedure">
		<xs:complexContent>
			<xs:extension base="ff:apiEntry">
				<xs:sequence minOccurs="1" maxOccurs="1">
					<xs:element name="parameterList" type="ff:parameterList" minOccurs="0"/>
					<xs:element name="body" type="xs:string" minOccurs="0" maxOccurs="1"/>
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>

	</xs:complexType>

	<!-- Funktionsliste -->
	<xs:complexType name="functionList">
		<xs:sequence maxOccurs="unbounded">
			<xs:element name="function" type="ff:function"/>
		</xs:sequence>
	</xs:complexType>

	<!-- Funktion -->
	<xs:complexType name="function">
		<xs:complexContent>
			<xs:extension base="ff:procedure">
				<xs:sequence>
					<xs:element name="returnType" type="xs:string"/>
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>

	<!-- Parameterliste -->
	<xs:complexType name="parameterList">
		<xs:sequence maxOccurs="unbounded">
			<xs:element name="parameter" type="ff:parameter"/>
		</xs:sequence>
	</xs:complexType>

	<!-- Parameter -->
	<xs:complexType name="parameter">
		<xs:sequence minOccurs="1" maxOccurs="1">
			<xs:element name="name" type="xs:string"/>
			<xs:element name="type" type="xs:string" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>

	<!-- Typliste -->
	<xs:complexType name="typeList">
		<xs:sequence maxOccurs="unbounded">
			<xs:element name="type" type="ff:type"/>
		</xs:sequence>
	</xs:complexType>

	<!-- Typ -->
	<xs:complexType name="type">
		<xs:complexContent>
			<xs:extension base="ff:apiEntry">
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	
	<!-- Snippetliste -->
	<xs:complexType name="snippetList">
		<xs:sequence maxOccurs="unbounded">
			<xs:element name="snippet" type="ff:snippet"/>
		</xs:sequence>
	</xs:complexType>
	
	<!-- Snippet -->
	<xs:complexType name="snippet">
		<xs:complexContent>
			<xs:extension base="ff:apiEntry">
					<xs:sequence minOccurs="1" maxOccurs="1">
						<xs:element name="body" type="xs:string" minOccurs="0" maxOccurs="1"/>
					</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>

	<xs:complexType name="apiEntry">
		<xs:sequence minOccurs="1" maxOccurs="1">
			<xs:element name="name" type="xs:string"/>
			<xs:element name="description" type="xs:string"/>
			<xs:element name="regex" type="xs:string"  minOccurs="0" maxOccurs="1"/>
		</xs:sequence>
	</xs:complexType>
</xs:schema>